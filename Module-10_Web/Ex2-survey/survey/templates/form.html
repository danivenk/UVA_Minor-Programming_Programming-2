{% extends "layout.html" %}

{% block main %}

    <!-- http://getbootstrap.com/docs/4.1/content/typography/ -->
    <h1 class="mb-3">Form</h1>

    <!-- http://getbootstrap.com/docs/4.1/components/forms/ -->
    <form action="/form" method="post" class="needs-validation">

        <div class="form-group col-sm-6">
            <label for="name">Name:</label>
            <input type="text" class="form-control" id="name" placeholder="Enter name" name="name" required>
            <div class="valid-feedback">Valid.</div>
            <div class="invalid-feedback">Please fill out this field.</div>
        </div>
        <div class="form-group col-sm-6">
            <label for="mtype">Media Type:</label>
            <select name="mtype" class="custom-select form-control" id="mtype" required>
                <option value="" selected>Select Media Type</option>
                <option value="manga">Manga</option>
                <option value="anime">Anime</option>
                <option value="light novel">Light Novel</option>
            </select>
            <div class="valid-feedback">Valid.</div>
            <div class="invalid-feedback">Please fill out this field.</div>
        </div>
        <div class="form-group col-sm-6">
            <div class="form-check">
                <label class="form-check-label">
                    <input type="checkbox" class="form-check-input" value="">
                    Check if for 18+
                </label>
            </div>
        </div>

        <!-- http://getbootstrap.com/docs/4.1/components/buttons/ -->
        <button id="submit" class="btn btn-primary" type="submit">Submit</button>

    </form>

    <script>

        var form = document.querySelector(".needs-validation");
        var validation_items = document.querySelectorAll(".form-control");

        form.addEventListener('submit', function(event) {
            for (const item of validation_items) {
                if (item.validity.valueMissing === true) {
                  event.preventDefault();
                  event.stopPropagation();
                }
            }
            form.classList.add('was-validated');
        }, false);

    </script>

{% endblock %}
